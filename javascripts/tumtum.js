(function(){$(function(){var e,t,a,r,i,n,o,s,u,d,h,c,D,l,w,b,p,B,g,y,S,x,m,C;if(c=$("canvas#tumtum")[0]){for(t=2,g=40,B=80,D=!1,x=new createjs.Stage(c),h=[],u=Box2D.Common.Math.b2Vec2,r=Box2D.Dynamics.b2BodyDef,a=Box2D.Dynamics.b2Body,o=Box2D.Dynamics.b2FixtureDef,d=Box2D.Dynamics.b2World,s=Box2D.Collision.Shapes.b2PolygonShape,i=Box2D.Collision.Shapes.b2CircleShape,n=Box2D.Dynamics.b2DebugDraw,C=new d(new u(0,-10),!0),e=40,m=c.width/e,w=c.height/e,l=new o,l.density=1,function(){var e,t;return e=new r,e.type=a.b2_staticBody,l.shape=new s,t=.1,e.position.Set(m/2,0),l.shape.SetAsBox(m/2,t),C.CreateBody(e).CreateFixture(l),e.position.Set(t,w/2),l.shape.SetAsBox(0,w/2),C.CreateBody(e).CreateFixture(l),e.position.Set(m,w/2),l.shape.SetAsBox(t,w/2),C.CreateBody(e).CreateFixture(l)}(),c.addArt=function(){var t,n,o;return o=Math.floor(Math.random()*(B-g)+g),n=new r,n.type=a.b2_dynamicBody,l.shape=new i(.8*o/e),n.position.Set(m*(.1+.8*Math.random()),w+Math.random()),t=C.CreateBody(n),t.CreateFixture(l),h.push(t),t.actor=new Baumkuchen(o),x.addChild(t.actor)},c.toggleDebug=function(){return D=!D,D&&!this.debugDraw&&(this.debugDraw=new n,this.debugDraw.SetSprite(c.getContext("2d")),this.debugDraw.SetDrawScale(e),this.debugDraw.SetFillAlpha(.3),this.debugDraw.SetLineThickness(1),this.debugDraw.SetFlags(n.e_shapeBit|n.e_jointBit),C.SetDebugDraw(this.debugDraw)),D},createjs.Ticker.timingMode=createjs.Ticker.RAF,createjs.Ticker.addEventListener("tick",function(t){var a,r,i,n,o;if(C.Step(1/60,3,3),C.ClearForces(),D)return C.DrawDebugData();for(i=0,n=h.length;n>i;i++)r=h[i],o=r.GetPosition(),o&&null!=o.x&&null!=o.y&&(a=r.actor,a.x=o.x*e,a.y=o.y*e);return x.update(t)}),S=[],b=p=0,y=t;y>=0?y>p:p>y;b=y>=0?++p:--p)S.push(c.addArt());return S}})}).call(this);