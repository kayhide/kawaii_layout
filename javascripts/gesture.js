(function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},s=function(t,e){function s(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t},n={}.hasOwnProperty;t=function(t){function n(){this.handleMouseLongPress=e(this.handleMouseLongPress,this),this.handleMouseUp=e(this.handleMouseUp,this),this.handleMouseMove=e(this.handleMouseMove,this),this.handleMouseDown=e(this.handleMouseDown,this),this.on=e(this.on,this),this.attach=e(this.attach,this),this.setScale=e(this.setScale,this),this.altKey=e(this.altKey,this),this.shiftKey=e(this.shiftKey,this),n.__super__.constructor.call(this),this.mousePoint=new o,this.mouseDownPoint=new o,this.scale=1,this.listeners={},this.isMoved=!1,this.isLongPressed=!1,this.event=null}var o;return s(n,t),o=Box2D.Common.Math.b2Vec2,n.prototype.shiftKey=function(){var t,e;return null!=(t=this.event)&&null!=(e=t.nativeEvent)?e.shiftKey:void 0},n.prototype.altKey=function(){var t,e;return null!=(t=this.event)&&null!=(e=t.nativeEvent)?e.altKey:void 0},n.prototype.setScale=function(t){return this.scale=t},n.prototype.attach=function(t){return t.addEventListener("mousedown",this.handleMouseDown),t.addEventListener("pressmove",this.handleMouseMove),t.addEventListener("pressup",this.handleMouseUp)},n.prototype.on=function(t,e){var s;return null==(s=this.listeners)[t]&&(s[t]=[]),this.listeners[t].push(e)},n.prototype.handleMouseDown=function(t){var e,s,n,o,i;for(this.event=t,this.mousePoint.Set(t.stageX/this.scale,t.stageY/this.scale),this.mouseDownPoint.Set(this.mousePoint.x,this.mousePoint.y),this.isMoved=!1,this.isLongPressed=!1,i=null!=(o=this.listeners.mousedown)?o:[],s=0,n=i.length;n>s;s++)(e=i[s])();setTimeout(function(t){return function(){return t.isMoved?void 0:t.handleMouseLongPress()}}(this),500)},n.prototype.handleMouseMove=function(t){var e,s,n,o,i;for(this.event=t,this.mousePoint.Set(t.stageX/this.scale,t.stageY/this.scale),this.isMoved=!0,i=null!=(o=this.listeners.pressmove)?o:[],s=0,n=i.length;n>s;s++)(e=i[s])()},n.prototype.handleMouseUp=function(t){var e,s,n,o,i;for(this.event=t,i=null!=(o=this.listeners.pressup)?o:[],s=0,n=i.length;n>s;s++)(e=i[s])()},n.prototype.handleMouseLongPress=function(){var t,e,s,n,o;for(this.isLongPressed=!0,o=null!=(n=this.listeners.longpress)?n:[],e=0,s=o.length;s>e;e++)(t=o[e])()},n}(Object),this.Gesture=t}).call(this);