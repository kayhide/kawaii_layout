(function(){createjs.Point.prototype.add=function(t){return new createjs.Point(this.x+t.x,this.y+t.y)},createjs.Point.prototype.subtract=function(t){return new createjs.Point(this.x-t.x,this.y-t.y)},createjs.Point.prototype.scale=function(t){return new createjs.Point(this.x*t,this.y*t)},createjs.Point.prototype.apply=function(t){return t=t.clone(),t.append(1,0,0,1,this.x,this.y),new createjs.Point(t.tx,t.ty)},createjs.Point.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(t.x-this.x,2)+Math.pow(t.y-this.y,2))},createjs.Point.prototype.isZero=function(){return 0===this.x&&0===this.y},createjs.Point.prototype.length=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},createjs.Point.prototype.regularize=function(){return this.scale(1/this.length())},createjs.Rectangle.createEmpty=function(){var t;return t=new createjs.Rectangle,t.empty=!0,t},createjs.Rectangle.prototype.clear=function(){return this.empty=!0,this},createjs.Rectangle.prototype.isEmpty=function(){return null!=this.empty},createjs.Rectangle.prototype.addPoint=function(t){return null!=this.empty?(this.x=t.x,this.y=t.y,this.width=0,this.height=0,this.empty=null,this.points=[t]):(this.points.push(t),t.x<this.x?(this.width+=this.x-t.x,this.x=t.x):t.x>this.x+this.width&&(this.width=t.x-this.x),t.y<this.y?(this.height+=this.y-t.y,this.y=t.y):t.y>this.y+this.height&&(this.height=t.y-this.y)),this},createjs.Rectangle.prototype.addRectangle=function(t){var e,o,i,n;for(n=t.getCornerPoints(),e=0,o=n.length;o>e;e++)i=n[e],this.addPoint(i);return this},createjs.Rectangle.prototype.getTopLeft=function(){return new createjs.Point(this.x,this.y)},createjs.Rectangle.prototype.getTopRight=function(){return new createjs.Point(this.x+this.width,this.y)},createjs.Rectangle.prototype.getBottomLeft=function(){return new createjs.Point(this.x,this.y+this.height)},createjs.Rectangle.prototype.getBottomRight=function(){return new createjs.Point(this.x+this.width,this.y+this.height)},createjs.Rectangle.prototype.getCornerPoints=function(){return[this.getTopLeft(),this.getTopRight(),this.getBottomLeft(),this.getBottomRight()]},createjs.Rectangle.prototype.getCenter=function(){return new createjs.Point(this.x+this.width/2,this.y+this.height/2)},createjs.Rectangle.prototype.getRight=function(){return this.x+this.width},createjs.Rectangle.prototype.getBottom=function(){return this.y+this.height},createjs.Rectangle.prototype.inflate=function(t){return this.x-=t,this.y-=t,this.width+=2*t,this.height+=2*t,this},createjs.Point.boundary=function(t){var e,o,i,n;for(n=createjs.Rectangle.createEmpty(),e=0,o=t.length;o>e;e++)i=t[e],n.addPoint(i);return n},createjs.Point.prototype.toArray=function(){return[this.x,this.y]},createjs.Point.prototype.from=function(t){var e;return e=this.clone(),e.on=t,e},createjs.Point.prototype.to=function(t){var e;return null!=this.on?this.on.getStage()===t.getStage()?e=null!=this.on_global?t.globalToLocal(this.x,this.y):this.on.localToLocal(this.x,this.y,t):null!=this.on_global?(e=this.on.globalToWindow(this.x,this.y),e=t.windowToLocal(e.x,e.y)):(e=this.on.localToWindow(this.x,this.y),e=t.windowToLocal(e.x,e.y)):e=null!=this.on_window?t.windowToLocal(this.x,this.y):t.globalToLocal(this.x,this.y),e.on=t,e.on_global=null,e.on_window=null,e},createjs.Point.prototype.toGlobal=function(){var t;return null!=this.on&&null==this.on_window&&null==this.on_global?(t=this.on.localToGlobal(this.x,this.y),t.on_global=!0):t=this.clone(),t.on_window=null,t},createjs.Point.prototype.fromWindow=function(){var t;return t=this.clone(),t.on_global=null,t.on_window=!0,t},createjs.Point.prototype.toWindow=function(){var t;return t=null!=this.on?null!=this.on_global?this.on.globalToWindow(this.x,this.y):this.on.localToWindow(this.x,this.y):this.clone(),t.on=null,t.on_global=null,t.on_window=!0,t},createjs.DisplayObject.prototype.remove=function(){var t;return null!=(t=this.parent)?t.removeChild(this):void 0},createjs.DisplayObject.prototype.position=function(){return new createjs.Point(this.x,this.y)},createjs.DisplayObject.prototype.localToParent=function(t,e){return this.localToLocal(t,e,this.parent)},createjs.DisplayObject.prototype.copyTransform=function(t){return this.x=t.x,this.y=t.y,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.rotation=t.rotation,t},createjs.DisplayObject.prototype.clearTransform=function(){return this.setTransform()},createjs.DisplayObject.prototype.projectTo=function(t){var e,o;return e=this.localToWindow(0,0),o=t.windowToLocal(e.x,e.y),this.x=o.x,this.y=o.y,t.addChild(this)},createjs.DisplayObject.prototype.localToWindow=function(t,e){var o,i;return i=$(this.getStage().canvas).position(),o=this.localToGlobal(t,e),o.x+=i.left,o.y+=i.top,o},createjs.DisplayObject.prototype.windowToLocal=function(t,e){var o,i;return i=$(this.getStage().canvas).position(),o=this.globalToLocal(t-i.left,e-i.top)},createjs.DisplayObject.prototype.globalToWindow=function(t,e){var o;return o=$(this.getStage().canvas).position(),new createjs.Point(t+o.left,e+o.top)},createjs.DisplayObject.prototype.windowToGlobal=function(t,e){var o;return o=$(this.getStage().canvas).position(),new createjs.Point(t-o.left,e-o.top)},createjs.Stage.prototype.invalidate=function(){return this.invalidated=!0}}).call(this);